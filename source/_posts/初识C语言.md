---
title: 初识C语言
date: 2019-06-02 17:18:09
tags:
categories: [IT,C]
---

## 环境搭建
### 编辑器
SublimeText <http://www.sublimetext.com>

书写代码的工具软件，类比Word。

### 编译器
GCC

GNU编译器套件（GNU Compiler Collection）

安装方法：通过HomeBrew安装

> Homebrew不会安装？请看Homebrew的安装方法 <https://rubycoder.cn/2019/06/03/Homebrew的安装方法/>

```
$ brew install gcc
```

## 第一个C语言程序
### 书写代码
1、新建一个文件，保存到proj-c目录下，命名为hello.c。 
>Tips:
>一定要先保存为 .c 文件再开始代码的书写，这样编辑器就知道我们键入的是C语言程序，会给出相应的一些提示，提高书写效率。
   
2、在hello.c文件中输入以下代码。

```
#include <stdio.h>

int main(void)
{
    printf("Hello World\n");

    return 0;
}
```
3、保存hello.c文件

### 编译代码
1、进入proj-c目录

```
$ cd ~/proj-c
```
>备注：   
>目录名任意，但要养成良好文件规整习惯，起名时注意用途标识。  
>~表示proj-c的上级目录，根据各自情况而定。

>Tips:   
>在proj-c目录中直接打开终端的方法：   
>文件夹proj-c右键，选择“新建位于文件夹位置的终端窗口”

2、编译hello.c

```
$ gcc hello.c -o hello
```
-o 编译生成的文件名

这时候我们发现在proj-c目录下生成一个名为hello的文件。

～～试试不加 -o 呢

```
$ gcc hello.c
```

### 运行代码

```
$ ./hello
```

在控制台打印出“Hello World”

### 分析代码
#### 固定格式
```
#include <stdio.h>

int main(void)
{
    /*...*/

    return 0;
}
```
1、\#include \<stdio.h>   
引用stdio.h代码库
>stdio 为 standard I/O（标准输入输出）的缩写。   
>stdio.h为标准输入输出库，提供C语言的标准输入输出函数。

2、int main(void){}     
main函数，C语言执行的入口函数，{}表示函数的开始和结束

3、return 0;   
main函数的返回值。
#### 注释
我们可以用简洁明了的语言将程序要表达的意思标注在程序中，提高程序的可读性。注释并不影响程序的运行。 
  
例如：

```
/*
    在控制台打印出“Hello World”
*/
#include <stdio.h>

int main(void)
{
    printf("Hello World\n");

    return 0;
}
```

注释可以是多行的以 /* 开头，以 \*/ 结束，也可以是单行。    
单行注释也可以采用 // 的形式，从 // 开始直到本行结束都为注释部分。
#### 语句
```
printf("Hello World\n");
```
```
return 0;
```
这两行代码结尾都用到了分号。这里的分号代表语句的结束，相当于中文里的句号。
#### printf函数
printf函数可以在显示器上进行输出操作。    
在上面的例子中是在显示器上打印出了一串字符，需要打印的字符由双引号括起来。
#### 字符串
以上示例中由双引号括起来的 "Hello World\n" 称为**字符串常量**
#### 转义字符
以上示例中"Hello World"后面紧跟的 "\n" 称为**转义字符**，它用来实现换行的功能。

～～试试不加换行符呢

## 输出
### 无格式化输出printf
```
printf("Hello World\n");
```
以上调用printf函数，格式化字符串内的字符将按照原样输出。

- 试一试：输出“您好！我叫XXX”


### 无格式化输出puts
```
puts("Hello World");
```
再来试试puts函数的无格式化输出，看看和printf有什么区别呢？

可以看出以上两种方式的printf和puts函数的输出结果相同。

- 试一试：将以上的打招呼语句进行修改，输出“您好！”后换行输出“我叫XXX”

### 格式化输出printf
计算 12 和 30 的和是多少，并显示结果。

```
printf("12与30的和是%d。\n", 12 + 30);
```
"%d"指定了实参的输出格式，它告诉程序以十进制的形式显示后面的实参。因此 printf 函数显示出了第二个参数 12 + 30 的值，即 12 与 30 的和 42。

修改一下，计算 12 和 30 的差是多少，并显示结果。

```
printf("12与30的差是%d。\n", 12 - 30);
```

## 变量
### 变量和声明
到目前为止，我们都是对传入程序中的**常量**进行求和、求差，并显示计算结果。如果遇到复杂的计算，为了中途记录结果就需要使用**变量**了。

不管是常量还是变量都存放在内存中，变量只是起了一个别名方便找寻到某个值。

```
int n; /*声明一个类型为 int，变量名为 n 的变量*/
```
变量名可以自由命名 x, year, count等都是可以的，一般在命名时遵循通俗易懂的原则。

* 要使用变量，必须先声明，声明明确变量的类型和名称。

### 赋值

```
#include <stdio.h>

int main(void) {
    int x;
    x = 10;
    printf("x的值为%d\n", x);
    return 0;
}
```
上述程序中先声明了一个 int 型的变量 x，然后对 x 进行赋值，最后输出 x 的值。

```
x = 10;
```
此处的等于号“=”表示把右侧的值赋给左侧的变量。因此上述赋值语句为把 10 赋值给变量 x 。

>注意：程序中的“=”不同于数学计算中的“等于”。

### 初始化
修改一下上述程序，看看结果是否一样呢。

```
#include <stdio.h>

int main(void) {
    int x = 10;

    printf("x的值为%d\n", x);

    return 0;
}
```
通过验证我们可以知道控制台输出了“x的值为10”。我们将上述这种在声明变量时即对变量赋值的形式叫做**初始化**。

我们再修改一下代码，试试只声明变量，不初始化赋值看看结果会怎么样呢？

```
#include <stdio.h>

int main(void) {
    int x ;

    printf("x的值为%d\n", x);
    
    return 0;
}
```
我们发现结果变成了一个不确定的奇怪值。这是因为在生成变量的时候，变量会被放入一个不确定的值，即**垃圾值**。

所以我们一定要对变量进行赋值。

>在有些语言中变量会被初始化为0，但是C语言中即使变量为0，也要对其进行赋值。

- 总结：
- 初始化：在生成变量的时候放入数值。
- 赋值：在已生成的变量中放入数值。

## 输入
### 格式化输入scanf
如果通过键盘输入的值来给变量赋值，该如何实现呢？

```
#include <stdio.h>

int main(void) {
    int x;

    printf("请输入x的值：");
    scanf("%d", &x);
    
    printf("x的值为%d\n", x);

    return 0;
}
```
scanf函数可以从键盘读取输入的信息。同printf函数一样，这里的%d限制函数只能读取十进制的整数。

从键盘读取输入的十进制整数，将它保存到变量 x 中。

>注意：同printf不同的是，scanf函数的变量 x 前面多了一个 & 符号。& 的具体含义将在以后的学习中讲到，此处记住即可。

接下来我们来看一些稍微复杂一点点的问题。

1、输出输入整数的倍数

```
#include <stdio.h>

int main(void) {
    int x;

    printf("请输入x的值：");
    scanf("%d", &x);

    printf("%d的5倍值为%d\n", x, 5 * x);

    return 0;
}
```
- 试一试：添加一个新的变量 y 来存储 5 * x 。

2、输出两个输入整数的和

```
#include <stdio.h>

int main(void) {
    int n1, n2;

    puts("请输入两个整数。");
    printf("整数1："); scanf("%d", &n1);
    printf("整数2："); scanf("%d", &n2);

    printf("%d和%d的和为%d\n", n1, n2, n1 + n2);

    return 0;
}
```
- 试一试：添加一个新的变量 sum 来存储 n1 + n2 。
