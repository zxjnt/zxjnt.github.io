---
title: 循环结构
date: 2019-06-12 15:44:23
tags:
categories: [IT,C]
---

在C语言中有三大程序结构：      
顺序结构：顺序执行      
分支结构：通过判断条件选择分支执行      
循环结构：循环执行      

现在我们就来学习循环结构，我们用最简单的求1～100的和的例子来简化循环结构的学习

## do
do语句的结构如下：

```
do{
    语句块
}while(表达式);
```

示例1-1:用do语句实现1～100的和

```
#include <stdio.h>

int main(void) {
    int sum = 0;
    int i = 1;

    do {
        sum = sum + i;
        i = i + 1;
    } while (i <= 100);

    printf("1~100的和是：%d\n", sum);

    return 0;
}
```

### 复合赋值运算符
在上面的示例中

```
sum = sum + i;
```

可以用复合赋值运算符写为

```
sum += i;
```
既然对于 + 存在复合赋值运算符，同理对于 - 、* 、/、%等也存在复合赋值运算符。

～试着用复合赋值运算符来修改一下上面的示例呢～

### 后置递增/减运算符
在上面的示例中

```
i = i + 1;
```

可以用后置递增运算符写为

```
i++;
```

|a++|使a的值增加1（该表达式的值是增加前的值）|
|---|---|
|a- -|使a的值减少1（该表达式的值是减小前的值）|

总结一下：先取值、后自增/减

下面我们用复合运算符和后置递增运算符来修改示例1-1

示例1-2:

```
#include <stdio.h>

int main(void) {
    int sum = 0;
    int i = 1;

    do {
        sum += i++;
    } while (i <= 100);

    printf("1~100的和是：%d\n", sum);

    return 0;
}
```

可以看出修改之后代码变得很简洁～

～思考：循环结束时 i 的值是多少？

### 前置递增/减运算符
既然有后置递增/减运算符，那就有前置递增/减运算符。

|++a|使a的值增加1（该表达式的值是增加后的值）|
|---|---|
|- -a|使a的值减少1（该表达式的值是减小后的值）|

总结一下：先自增/减、后取值

我们再来用前置递增运算符来修改示例1-1

示例1-3:

```
#include <stdio.h>

int main(void) {
    int sum = 0;
    int i = 0;

    do {
        sum += ++i;
    } while (i < 100);

    printf("1~100的和是：%d\n", sum);

    return 0;
}
```

示例代码中的

```
sum += ++i;
```

等价于

```
i = i + 1;
sum = sum + i;
```

～思考：和示例1-2相比，这儿循环结束时 i 的值又是多少呢？

注意对比示例1-2和1-3来深刻理解后置递增和前置递增的区别。

## while
while语句的结构如下：

```
while(表达式){
    语句块
}
```

示例2-1:用while语句实现1～100的和

```
#include <stdio.h>

int main(void) {
    int sum = 0;
    int i = 1;

    while (i <= 100) {
        sum += i++;
    }

    printf("1~100的和是：%d\n", sum);

    return 0;
}
```

～自己试试用前置递增运算符的while语句来实现相同的功能。

至此我们已经会熟练使用递增了，下面再来看一个递减的例子。

示例3-1:输入一个整数，连续显示出该整数个数*

```

int main(void) {
    int no;

    printf("请输入一个正数：");
    scanf("%d", &no);

    while (no-- > 0) {
        putchar('*');
    }

    putchar('\n');

    return 0;
}
```

～同样的自己试试用前置递减来实现相同的功能。

总结一下：

```
do语句     先循环，后判断
while语句  先判断，后循环
```

## for
for语句的结构如下：

```
for(表达式1;表达式2;表达式3){
    语句块
}
```

表达式1:预处理，循环开始的初始条件     
表达式2:控制表达式，是否循环的条件     
表达式3:收尾处理，自增或者自减     

示例4:用for语句实现1～100的和

```
#include <stdio.h>

int main(void) {
    int sum = 0;

    for (int i = 1; i <= 100; i++) {
        sum += i;
    }

    printf("1~100的和是：%d\n", sum);

    return 0;
}
```

## 多重循环
在循环中还可以嵌套循环，根据嵌套循环的多少，有二重循环、三重循环等，统称多重循环。

### 二重循环
示例5-1:显示九九乘法表

```
#include <stdio.h>

int main(void) {
    int i , j;

    for (i = 1; i <= 9; i ++) {
        for (j = 1; j <= 9; j++) {
            int n = i * j;
            printf("%3d", n);
        }

        putchar('\n');
    }

    return 0;
}
```

### break与continue
我们来对5-1的代码进行修改，来理解break与continue的含义。

示例5-2:显示九九乘法表-break

```
#include <stdio.h>

int main(void) {
    int i , j;

    for (i = 1; i <= 9; i ++) {
        for (j = 1; j <= 9; j++) {
            int n = i * j;
             if (n % 10 == 4) {
                 printf("   ");
                 break;
            }
            printf("%3d", n);
        }

        putchar('\n');
    }

    return 0;
}
```

在分支结构中我们的switch/case中学习过了break，还记得当时break的含义吗？跳出switch分支。那可以推理出此处应该是跳出for循环。但此处有两个循环，只能跳出当前循环。

示例5-3:显示九九乘法表-continue

```
#include <stdio.h>

int main(void) {
    int i , j;

    for (i = 1; i <= 9; i ++) {
        for (j = 1; j <= 9; j++) {
            int n = i * j;
             if (n % 10 == 4) {
                 printf("   ");
                 continue;
            }
            printf("%3d", n);
        }

        putchar('\n');
    }

    return 0;
}
```

执行一下上面的代码能看出continue和break的区别了吗？可以看出continue是跳过当次执行，继续后面的循环。

### 绘制图形
示例6：绘制长方形

```
#include <stdio.h>

int main(void)
{
    int i , j;
    int height, width;

    puts("让我们来画一个长方形。");
    printf("高："); scanf("%d", &height);
    printf("宽："); scanf("%d", &width);

    for (i = 1; i <= height; i ++) {
        for (j = 1; j <= width; j++)
            putchar('*');
        putchar('\n');
    }

    return 0;
}
```

示例7-1:绘制等腰直角三角形，直角在左下角

```
#include <stdio.h>

int main(void)
{
    int i , j, len;

    puts("生成直角在左下方的等腰直角三角形。");
    printf("短边："); scanf("%d", &len);

    for (i = 1; i <= len; i ++) {
        for (j = 1; j <= i; j++)
            putchar('*');
        putchar('\n');
    }

    return 0;
}
```

示例7-2:绘制等腰直角三角形，直角在右下角

```
#include <stdio.h>

int main(void)
{
    int i , j, len;

    puts("生成直角在右下方的等腰直角三角形。");
    printf("短边："); scanf("%d", &len);

    for (i = 1; i <= len; i ++) {
        for (j = 1; j <= len - i; j++)
            putchar(' ');
        for (j = 1; j <= i; j++)
            putchar('*');
        putchar('\n');
    }

    return 0;
}
```

同分支结构一样，循环结构也是非常重要的基础知识。同样也给大家一些习题来练习。

1、本金10000元存入银行，年利率是千分之三，每过一年将本金和利息之和作为新的本金，计算5年后可获取多少元？

2、使用循环打印正三角形、倒三角形、菱形。

3、画一颗圣诞树。

4、一张纸的厚度大约是0.08mm，对折多少次之后能达到珠穆朗玛峰的高度（8848.13米）

5、输入两个数，计算他们的最小公倍数和最大公约数。

6、每瓶可乐3块钱，喝完后瓶子可以退回1块钱，输入金额，输出最多可以喝到多少瓶可乐

