---
title: 分支结构
date: 2019-06-10 14:04:10
tags:
categories: [IT,C]
---
在前面的学习中我们的代码都是顺序一行一行的执行的，这叫做**顺序结构**。但很多时候我们需要作出判断来决定代码的运行方向，这就是**分支结构**。
## if/else
if/else的结构如下：

```
if(判断表达式){
    语句块1
}else{
    语句块2
}
```

判断表达式的值不为 0 时，执行语句块1，判断表达式的值为 0 时，执行语句块2。

下面我们就来看几个例子吧！

示例1:奇偶的判定

```
#include <stdio.h>

int main(void)
{
    int no;

    printf("请输入一个整数：");
    scanf("%d", &no);

    if (no % 2)
        puts("输入的整数是奇数");
    else
        puts("输入的整数是偶数");

    return 0;
}
```

no % 2 为变量 no 除以 2 所得的余数，如果余数为 1 ，即判断表达式等于 1 时，则该数为奇数，如果为 0 ，则为偶数。

> 上面的示例中，由于语句块1和语句块2都是单语句，所以这儿我们没有写 {} ，这种写法是允许的，也就是说对于 if 和 else 的执行语句为单一语句的时候，可以省略大括号。

示例2:是否为0

```
#include <stdio.h>

int main(void) {
    int num;

    printf("请输入一个整数：");
    scanf("%d", &num);

    if (num) {
        puts("该整数不是0");
    } else {
        puts("该整数是0");
    }

    return 0;
}
```

通过上面两个例子的学习，我们是不是已经掌握了基本的if/else语句了呢？
下面再来学习一些新知识：

### 相等运算符
在之前的学习中我们知道 a = b ;的含义是将 b 赋值给 a ，那如果想表示 a 和 b 相等该如何表示呢？

在C语言中我们用两个等于号来表示相等 == ，用感叹号和等于号来表示不等 != 。

>注意：= 和 = 之间，! 和 = 之间不要有空格。

|a == b|如果a和b的值相等则表达式的值为1，不等则为0|
|---|---|
|a != b|如果a和b的值不相等则表达式的值为1，相等则为0|

下面让我们来做这样一个判断：

示例3:判断两个整数是否相等

```
#include <stdio.h>

int main(void) {
    int n1, n2;

    puts("请输入两个整数：");
    printf("整数1："); scanf("%d", &n1);
    printf("整数2："); scanf("%d", &n2);

    if (n1 == n2) {
        puts("它们相等");
    } else {
        puts("它们不相等");
    }

    return 0;
}
```

如果把判断表达式修改为 n1 != n2 ，整个代码该如何修改呢？自己试试看呢。

～请运用相等/不等运算符分别修改示例1和示例2的代码达到同样的判断效果呢～

### 关系运算符
上面讲到相等、不相等，那大于、小于呢？

|a < b|a小于b时表达式的值为1，反之为0|
|---|---|
|a > b|a大于b时表达式的值为1，反之为0|
|a <= b|a小于等于b时表达式的值为1，反之为0|
|a >= b|a大于等于b时表达式的值为1，反之为0|

下面就让我们通过关系运算符来做整数正、负、0的判断。

示例4-1:输入一个整数，判断该整数的符号。

```
#include <stdio.h>

int main(void) {
    int no;

    printf("请输入一个整数：");
    scanf("%d", &no);

    if (no == 0) {
        puts("该整数为0");
    } else if (no > 0) {
        puts("该整数为正数");
    } else {
        puts("该整数为负数");
    }

    return 0;
}
```

这个示例中我们发现多了一个 else if 的判断，也就是说出现了三个分支。三个甚至三个以上的分支都是允许的，用 else if 来做判断，大家在运用的时候要注意所有分支的判断条件加起来的完整性。也就是说上面的例子中通过等于0、大于0、其他（小于0）概括了所有的整数。

### 嵌套的if语句
下面我们来把上面的代码修改一下：

示例4-2:

```
#include <stdio.h>

int main(void) {
    int no;

    printf("请输入一个整数：");
    scanf("%d", &no);

    if (no == 0) {
        puts("该整数为0");
    } else {
        if (no > 0) {
            puts("该整数为正数");
        } else {
            puts("该整数为负数");
        }
    }

    return 0;
}
```

我们再来修改一下代码：

示例4-3:

```
#include <stdio.h>

int main(void) {
    int no;

    printf("请输入一个整数：");
    scanf("%d", &no);

    if (no != 0) {
        if (no > 0) {
            puts("该整数为正数");
        } else {
            puts("该整数为负数");
        }

    } else {
        puts("该整数为0");
    }

    return 0;
}
```

如上所述我们对代码进行了两次修改，都实现了整数正、负、0的判断。像这种在 if 或者 else 的语句块中又出现了 if/else 称之为**嵌套的if语句**

～修改示例1的代码，试试用嵌套的if语句实现先判断整数的正负，如果输入的是正数再判断奇偶。

### 条件运算符
在讲条件运算符之前我们先看一下两个数比大小的问题。

示例5-1:比较两个整数中的较大数

```
#include <stdio.h>

int main(void) {
    int n1, n2;

    puts("请输入两个整数：");
    printf("整数1："); scanf("%d", &n1);
    printf("整数2："); scanf("%d", &n2);

    if (n1 > n2) {
        printf("较大的数是%d。\n", n1);
    } else {
        printf("较大的数是%d。\n", n2);
    }

    return 0;
}
```

修改一下上面的代码，将较大数存在一个变量 max 中呢。
示例5-2:

```
#include <stdio.h>

int main(void) {
    int n1, n2, max;

    puts("请输入两个整数：");
    printf("整数1："); scanf("%d", &n1);
    printf("整数2："); scanf("%d", &n2);

    if (n1 > n2) {
        max = n1;
    } else {
        max = n2;
    }

    printf("较大的数是%d。\n", max);

    return 0;
}
```

下面我们就来看看用条件运算符该如何实现比大小问题。
示例5-3:

```
#include <stdio.h>

int main(void) {
    int n1, n2, max;

    puts("请输入两个整数：");
    printf("整数1："); scanf("%d", &n1);
    printf("整数2："); scanf("%d", &n2);

    max = (n1 > n2) ? n1 : n2;

    printf("较大的数是%d。\n", max);

    return 0;
}
```

| a ? b : c |如果 a 不为 0，则表达式的结果是 b 的值，否则结果是 c 的值|
|---|---|

～活学活用，上面运用了条件运算符来比大小，思考一下如果用条件运算符来计算两个整数的差值呢？

示例6:计算输入的两个整数的差值
```
#include <stdio.h>

int main(void) {
    int n1, n2;

    puts("请输入两个整数：");
    printf("整数1："); scanf("%d", &n1);
    printf("整数2："); scanf("%d", &n2);

    printf("它们的差是%d。\n", (n1 > n2) ? n1 - n2 : n2 - n1);

    return 0;
}
```

～如果不用条件运算符又该如何实现呢？自己动手修改试一试～

### 逻辑运算符
在我们进行一些条件判断的时候经常会碰到满足条件1并且满足条件2的情况，还有满足条件1或者条件2的情况，那用计算机语言该如何表示呢？

下面让我们来看一个关于月份所属季节的问题。

示例7-1:显示所输入的月份所属季节

```
#include <stdio.h>

int main(void) {
    int month;

    printf("请输入月份：");
    scanf("%d", &month);

    if (month >= 3 && month <= 5) {
        printf("%d月是春季。\n", month);
    } else if (month > 5 && month < 9) {
        printf("%d月是夏季。\n", month);
    } else if (month >= 9 && month <= 11) {
        printf("%d月是秋季。\n", month);
    } else if (month == 1 || month == 2 || month == 12) {
        printf("%d月是冬季。\n", month);
    } else {
        printf("%d月不存在。！！\n", month);
    }

    return 0;
}
```

关于春季的判断，当月份数满足大于等于 3、小于等于 5 的为春节，即3、4、5月。      
关于夏季的判断，当月份数满足大于 5、小于 9 的为夏季，即6、7、8月。     
关于秋季的判断，当月份数满足大于等于 9、小于等于 11 的为秋季，即9、10、11月。  
关于冬季的判断，当月份数为 1 或者 2 或者 12 的为冬季，即12、1、2月。 

通过上面的月份与季节的判断我们应该已经掌握了逻辑运算符的应用，现在我们来总结一下。

|a|b|a&&b|
|:---:|:---:|:---:|
|非0|非0|1|
|非0|0|0|
|0|非0|0|
|0|0|0|

|a|b|a &#124;&#124; b|
|:---:|:---:|:---:|
|非0|非0|1|
|非0|0|1|
|0|非0|1|
|0|0|0|

## switch/case
我们来看看如何通过switch/case语句来实现示例7中的月份和季节的关系。

示例7-2:显示所输入的月份所属季节

```
#include <stdio.h>

int main(void) {
    int month;

    printf("请输入月份：");
    scanf("%d", &month);

    switch (month) {
    case 3:
    case 4:
    case 5:
        printf("%d月是春季\n", month);
        break;

    case 6:
    case 7:
    case 8:
        printf("%d月是夏季\n", month);
        break;

    case 9:
    case 10:
    case 11:
        printf("%d月是秋季\n", month);
        break;

    case 12:
    case 1:
    case 2:
        printf("%d月是冬季\n", month);
        break;

    default:
        printf("%d月不存在！！！\n", month);
        break;
    }

    return 0;
}
```

通过上面的修改是不是结构更清晰了呢。同时我们也能够看出当判断的条件值为多个的时候我们可以选择使用switch语句来简化我们的代码。

### 关于break
上面的代码中我们看到只有在 month 为5、8、11、2的时候才有 printf 语句和 break 语句，那当 month 为 3 的时候是如何执行的呢？当 month 为 3 时，到第一个 case 3 判断满足条件，但是并没有执行代码，也没有 break 语句，所以继续往下执行 case 4，同样没有执行代码，也没有 break 语句，继续往下执行 case 5，这个时候输出“3月是春季”，同时因为后面的 break 语句，跳出当前 swtich 语句，继续往下执行。

我们再来看这样一个例子，来强化一下对于break的理解呢。

示例8:复杂的switch语句，深刻理解break

```
#include <stdio.h>

int main(void) {
    int n;

    printf("整数:");
    scanf("%d", &n);

    switch (n) {
    case 1: puts("A"); puts("B"); break;

    case 2: puts("C");

    case 5: puts("D"); break;

    case 6:
    case 7: puts("E"); break;

    default: puts("F"); break;
    }

    return 0;
}
```

运行上面的代码试试看，看看当输入不同的整数输出分别是什么呢？

分支结构是非常重要的计算机基础知识，无论用何种语言来编写代码，都会有分支结构。希望大家能多多练习，扎实基本功。下面放几个题目供大家练习。

1、输入三个正整数，将这三个数从小到大输出。

2、请输入星期几的第一个字母来判断一下是星期几，如果第一个字母一样，则继续判断第二个字母。

3、输入学生成绩，如果大于等于80输出“优秀”，70～79输出“良好”，60～69输出“及格”，低于60输出“不及格”。

4、输入某年某月，打印出该月天数，注意大小月以及闰年。

5、2019最新个人所得税免征额提高到5000，5001～8000部分税率3%，8001～17000部分税率10%，17001～30000部分税率20%，30001～40000部分税率25%，40001～60000部分税率30%，60001～85000部分税率35%，85000部分以上45%。输入当月工资额，计算应交个税。


