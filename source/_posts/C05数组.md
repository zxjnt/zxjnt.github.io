---
title: 数组
date: 2019-06-23 14:20:42
tags:
categories: [IT,C]
---

数组就是相同类型的变量的集合。比如：记录学生身高、体重等。

在学习数组的时候我们来回想一下变量的学习过程。变量声明、赋值、初始化。

## 数组的声明
声明就是指定元素类型、变量名、元素个数。如：

```
int a[5];
```

声明一个类型为 int ，元素个数为 5 个，变量名为 a 的数组。

## 数组的赋值与访问
对数组的赋值和访问都可以通过**下标运算符**来实现。例如对于数组 a[5] ，它的数组元素为 a[0]、a[1]、a[2]、a[3]、a[4]。

> 注意：数组的下标是从 0 开始的，而不是 1 。a[2]下标为2，表示a[2]是首个元素之后的第2个元素。

示例1-1:数组的赋值与访问

```
/*
    依次把1、2、3、4、5赋值给数组的每个元素并显示
*/
#include <stdio.h>

int main(void) {
    int v[5];

    v[0] = 1;
    v[1] = 2;
    v[2] = 3;
    v[3] = 4;
    v[4] = 5;

    printf("v[0] = %d\n", v[0]);
    printf("v[1] = %d\n", v[1]);
    printf("v[2] = %d\n", v[2]);
    printf("v[3] = %d\n", v[3]);
    printf("v[4] = %d\n", v[4]);

    return 0;
}
```

上面的代码示例通过下标依次对数组元素进行赋值和读取。

我们还可以通过循环来对数组进行赋值。

示例1-2:数组的赋值与访问

```
/*
    依次把1、2、3、4、5赋值给数组的每个元素并显示(for)
*/
#include <stdio.h>

int main(void) {
    int i;
    int v[5];

    for (i = 0; i < 5; i++) {
        v[i] = i + 1;
    }

    for (i = 0; i < 5; i++) {
        printf("v[%d] = %d\n", i, v[i]);
    }

    return 0;
}
```

～试一试：通过键盘输入元素的值来对数组进行赋值。

## 数组的初始化
除了可以用依此对元素赋值的方法外还可以在元素声明的时候进行初始化。如下所示：

```
int v[5] = {1, 2, 3, 4, 5};
```

声明的时候也可以不指定元素个数，数组会根据初始值的个数自动进行设定。

```
int v[] = {1, 2, 3, 4, 5};
```

另外还有一个规则，就是用 0 对 {} 内没有赋初始值的元素进行初始化。因此，下面的两种方式是一样的效果。

```
int v[] = {1, 2, 3, 0, 0};
int v[] = {1, 2, 3};
```

如果要使用 0 初始化数组中的全部元素，可以这样写：

```
int v[5] = {0};
```

## 数组的复制
我们来看如下的代码示例

示例2：数组的复制

```
/*
    把数组中的全部元素复制到另一个数组中
*/
#include <stdio.h>

int main(void) {
    int i;
    int a[5] = {17, 23, 36};
    int b[5];

    for (i = 0; i < 5; i++) {
        b[i] = a[i];
    }

    puts("  a   b");
    puts("---------");

    for (i = 0; i < 5; i++) {
        printf("%4d%4d\n", a[i], b[i]);
    }

    return 0;
}
```

特别提醒：数组的复制必须将数组中的元素依此复制。

```
b = a;
```

如上这样的赋值是错误。

## 对象式宏

```
#define a b    /*将该指令之后的 a 替换为 b */
```

对象式宏一般用于数组个数的定义。这样当我们需要改变数组的个数的时候不用去代码中一个个找用到个数的地方，只要替换 define 中的 b 即可。

我们用对象式宏来修改数组的赋值与访问。

示例3:对象式宏的应用

```
#include <stdio.h>
#define NUMBER 5

int main(void) {
    int i;
    int v[NUMBER];

    for (i = 0; i < NUMBER; i++) {
        v[i] = i + 1;
    }

    for (i = 0; i < NUMBER; i++) {
        printf("v[%d] = %d\n", i, v[i]);
    }

    return 0;
}
```

## 数组的应用

### 数组的倒序

示例4:

```
/*
    对数组的全部元素进行倒序排列
*/
#include <stdio.h>
#define NUMBER 7

int main(void) {
    int i;
    int x[NUMBER];

    for (i = 0; i < NUMBER; i++) {
        printf("x[%d]:", i);
        scanf("%d", &x[i]);
    }

    for (i = 0; i < NUMBER / 2; i++) {
        int temp = x[i];
        x[i] = x[NUMBER -1 - i];
        x[NUMBER -1 - i] = temp;
    }

    puts("倒序排列了。");

    for (i = 0; i < NUMBER; i++) {
        printf("x[%d] = %d\n", i, x[i]);
    }

    return 0;
}
```

### 利用数组处理学生分数问题

```
/*
    输入5名学生的分数并显示出他们的总分和平均分（宏）
*/
#include <stdio.h>

#define NUMBER 5 /*学生人数*/

int main(void) {
    int i;
    int tensu[NUMBER];/*NUMBER个学生的分数*/
    int sum = 0;

    printf("请输入%d名学生的分数。\n", NUMBER);

    for (i = 0; i < NUMBER; i++) {
        printf("%-2d号:", i + 1);
        scanf("%d", &tensu[i]);
        sum += tensu[i];
    }

    printf("总分：%5d\n", sum);
    printf("平均分：%5.1f\n", (double)sum / NUMBER);

    return 0;
}
```

### 数组元素中的最大值和最小值

```
/*
    输入5名学生的分数并显示出其中的最高分和最低分
*/
#include <stdio.h>

#define NUMBER 5

int main(void) {
    int i;
    int tensu[NUMBER];
    int max, min;

    printf("请输入%d名学生的分数。\n", NUMBER);

    for (i = 0; i < NUMBER; i++) {
        printf("%-2d号:", i + 1);
        scanf("%d", &tensu[i]);
    }

    min = max = tensu[0];

    for (i = 1; i < NUMBER; i++) {
        if (tensu[i] > max) { max = tensu[i]; }

        if (tensu[i] < min) { min = tensu[i]; }
    }

    printf("最高分：%d\n", max);
    printf("最低分：%d\n", min);

    return 0;
}
```
